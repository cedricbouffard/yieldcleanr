<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>yieldcleanr • yieldcleanr</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="yieldcleanr">
<meta name="description" content="Outils R pour nettoyer, filtrer et valider les données de rendement
collectées par les moissonneuses-batteuses (AYCE - Auto Yield Cleaning Engine).

R tools for cleaning, filtering and validating yield data
collected by combine harvesters (AYCE - Auto Yield Cleaning Engine).
">
<meta property="og:description" content="Outils R pour nettoyer, filtrer et valider les données de rendement
collectées par les moissonneuses-batteuses (AYCE - Auto Yield Cleaning Engine).

R tools for cleaning, filtering and validating yield data
collected by combine harvesters (AYCE - Auto Yield Cleaning Engine).
">
<meta name="description" content="Outils pour nettoyer les données de rendement agricole / Tools for cleaning agricultural yield data">
<style>
.lang-toggle { cursor: pointer; padding: 8px 12px; }
</style>
<script>
document.addEventListener('DOMContentLoaded', function() {
  const langToggle = document.getElementById('lang-toggle');
  if (langToggle) {
    langToggle.addEventListener('click', function(e) {
      e.preventDefault();
      const currentPath = window.location.pathname;
      const isEn = currentPath.includes('/en/') || currentPath.endsWith('_en.html');
      let newPath;
      if (isEn) {
        newPath = currentPath.replace('/en/', '/fr/').replace('_en.html', '_en.html');
      } else {
        newPath = currentPath.replace('/fr/', '/en/').replace('_fr.html', '_en.html');
      }
      if (newPath !== currentPath) {
        window.location.href = newPath;
      }
    });
  }
});
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="default" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">yieldcleanr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Référence</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Nouveautés</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/cedricbouffard/yieldcleanr">GitHub</a></li>
<li class="nav-item"><a class="nav-link lang-toggle" id="lang-toggle" href="#">FR | EN</a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="yieldcleanr">yieldcleanr<a class="anchor" aria-label="anchor" href="#yieldcleanr"></a>
</h1></div>
<p><a href="https://github.com/cedricbouffard/yieldcleanr/actions" class="external-link"><img src="https://github.com/cedricbouffard/yieldcleanr/actions/workflows/R-CI.yml/badge.svg" alt="R-CI"></a> <a href="https://codecov.io/gh/cedricbouffard/yieldcleanr" class="external-link"><img src="https://codecov.io/gh/cedricbouffard/yieldcleanr/branch/main/graph/badge.svg" alt="Codecov"></a></p>
<p><strong>yieldcleanr</strong> is an R package for cleaning, filtering, and validating agricultural yield data collected by combine harvesters. It implements filtering methods documented in the USDA Yield Editor and provides an interactive Shiny application for visual data cleaning.</p>
<div class="section level2">
<h2 id="features">Features<a class="anchor" aria-label="anchor" href="#features"></a>
</h2>
<ul>
<li>
<strong>Interactive Shiny Application</strong>: Visual interface for data cleaning with real-time preview</li>
<li>
<strong>Delay Adjustment</strong>: Automatic optimization of GPS-sensor delay compensation</li>
<li>
<strong>Multiple Filter Types</strong>:
<ul>
<li>Header status filtering (eliminates points when header is raised)</li>
<li>GPS quality filtering (GPS status, DOP values)</li>
<li>Velocity filtering (removes stationary or too-fast points)</li>
<li>Overlap filtering (filters overlapping swath areas)</li>
<li>Local standard deviation filtering (removes abnormal points in neighborhood)</li>
<li>Moisture and yield range filtering</li>
</ul>
</li>
<li>
<strong>Raster Export</strong>: Generate interpolated raster maps with spline interpolation</li>
<li>
<strong>Comprehensive Logging</strong>: Detailed tracking of all cleaning operations</li>
<li>
<strong>Multi-format Support</strong>: Import from various yield monitor formats</li>
</ul>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install from GitHub</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"cedricbouffard/yieldcleanr"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="quick-start">Quick Start<a class="anchor" aria-label="anchor" href="#quick-start"></a>
</h2>
<div class="section level3">
<h3 id="command-line-usage">Command Line Usage<a class="anchor" aria-label="anchor" href="#command-line-usage"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/cedricbouffard/yieldcleanr" class="external-link">yieldcleanr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Clean yield data with default parameters</span></span>
<span><span class="va">cleaned</span> <span class="op">&lt;-</span> <span class="fu">clean_yield_data</span><span class="op">(</span></span>
<span>  file_path <span class="op">=</span> <span class="st">"data/yield_data.txt"</span>,</span>
<span>  output_file <span class="op">=</span> <span class="st">"data/cleaned.csv"</span>,</span>
<span>  log_file <span class="op">=</span> <span class="st">"data/cleaning_log.txt"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Clean with custom parameters</span></span>
<span><span class="va">cleaned</span> <span class="op">&lt;-</span> <span class="fu">clean_yield_data</span><span class="op">(</span></span>
<span>  file_path <span class="op">=</span> <span class="st">"data/yield_data.txt"</span>,</span>
<span>  output_file <span class="op">=</span> <span class="st">"data/cleaned.csv"</span>,</span>
<span>  log_file <span class="op">=</span> <span class="st">"data/cleaning_log.txt"</span>,</span>
<span>  params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    flow_delay <span class="op">=</span> <span class="fl">2</span>,              <span class="co"># GPS-sensor delay (seconds)</span></span>
<span>    moisture_delay <span class="op">=</span> <span class="fl">15</span>,         <span class="co"># Moisture sensor delay (seconds)</span></span>
<span>    min_velocity <span class="op">=</span> <span class="fl">0.5</span>,          <span class="co"># Minimum velocity (m/s)</span></span>
<span>    max_velocity <span class="op">=</span> <span class="fl">10</span>,           <span class="co"># Maximum velocity (m/s)</span></span>
<span>    yield_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">74</span>, <span class="fl">235</span><span class="op">)</span>,    <span class="co"># Acceptable yield range</span></span>
<span>    moisture_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">40</span><span class="op">)</span>,  <span class="co"># Acceptable moisture range</span></span>
<span>    overlap_cellsize <span class="op">=</span> <span class="fl">0.3</span>,      <span class="co"># Overlap filter cell size (m)</span></span>
<span>    overlap_limit <span class="op">=</span> <span class="fl">50</span>,          <span class="co"># Overlap threshold (%)</span></span>
<span>    std_swath <span class="op">=</span> <span class="fl">5</span>,               <span class="co"># Local SD swath count</span></span>
<span>    std_limit <span class="op">=</span> <span class="fl">3</span>                <span class="co"># Local SD threshold (std dev)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="interactive-shiny-application">Interactive Shiny Application<a class="anchor" aria-label="anchor" href="#interactive-shiny-application"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Launch the interactive cleaning application</span></span>
<span><span class="fu">yieldcleanr</span><span class="fu">::</span><span class="fu"><a href="reference/launch_shiny_app.html">launch_shiny_app</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>The Shiny application provides: - Visual preview of raw and cleaned data - Interactive parameter adjustment - Real-time filter application - Multiple visualization modes (yield map, deleted points, raster view) - Export to multiple formats (GeoJSON, CSV, GeoTIFF)</p>
</div>
</div>
<div class="section level2">
<h2 id="data-format">Data Format<a class="anchor" aria-label="anchor" href="#data-format"></a>
</h2>
<p>The package accepts yield data with the following columns: - <strong>Required</strong>: Longitude, Latitude, Yield (kg/ha or bu/acre) - <strong>Optional</strong>: Moisture (%), Flow (kg/s), Velocity (m/s), GPS Status, Header Status, Swath Width</p>
<p>Example data format:</p>
<pre><code>Longitude,Latitude,Yield_kg_ha,Moisture,Flow,Velocity
-73.5123,45.1234,8500.5,18.2,12.5,5.2
-73.5124,45.1235,8200.3,18.1,12.3,5.1</code></pre>
</div>
<div class="section level2">
<h2 id="new-simplified-api">New Simplified API<a class="anchor" aria-label="anchor" href="#new-simplified-api"></a>
</h2>
<p>yieldcleanr now provides 8 meta-functions that replace the individual filter functions:</p>
<div class="section level3">
<h3 id="id_1-filter-data">1. Filter Data<a class="anchor" aria-label="anchor" href="#id_1-filter-data"></a>
</h3>
<p>Apply one or multiple filters to your data:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Filter header status only</span></span>
<span><span class="va">filtered</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/filter_data.html">filter_data</a></span><span class="op">(</span><span class="va">data</span>, type <span class="op">=</span> <span class="st">"header"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Apply multiple filters</span></span>
<span><span class="va">filtered</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/filter_data.html">filter_data</a></span><span class="op">(</span><span class="va">data</span>, type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"header"</span>, <span class="st">"gps"</span>, <span class="st">"velocity"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Apply all available filters</span></span>
<span><span class="va">filtered</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/filter_data.html">filter_data</a></span><span class="op">(</span><span class="va">data</span>, type <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span></span></code></pre></div>
<p><strong>Filter types</strong>: <code>"header"</code>, <code>"gps"</code>, <code>"dop"</code>, <code>"velocity"</code>, <code>"yield"</code>, <code>"moisture"</code>, <code>"bounds"</code>, <code>"all"</code></p>
</div>
<div class="section level3">
<h3 id="id_2-detect-anomalies">2. Detect Anomalies<a class="anchor" aria-label="anchor" href="#id_2-detect-anomalies"></a>
</h3>
<p>Detect and filter anomalies in your data:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Detect and filter all anomalies</span></span>
<span><span class="va">cleaned</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/detect_anomalies.html">detect_anomalies</a></span><span class="op">(</span><span class="va">data</span>, type <span class="op">=</span> <span class="st">"all"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Detect only overlaps with custom parameters</span></span>
<span><span class="va">cleaned</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/detect_anomalies.html">detect_anomalies</a></span><span class="op">(</span><span class="va">data</span>, type <span class="op">=</span> <span class="st">"overlap"</span>, </span>
<span>                            cellsize <span class="op">=</span> <span class="fl">0.5</span>, max_pass <span class="op">=</span> <span class="fl">30</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Mark anomalies without filtering (adds flag columns)</span></span>
<span><span class="va">marked</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/detect_anomalies.html">detect_anomalies</a></span><span class="op">(</span><span class="va">data</span>, type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"overlap"</span>, <span class="st">"local_sd"</span><span class="op">)</span>, </span>
<span>                           action <span class="op">=</span> <span class="st">"detect"</span><span class="op">)</span></span></code></pre></div>
<p><strong>Anomaly types</strong>: <code>"overlap"</code>, <code>"local_sd"</code>, <code>"velocity_jump"</code>, <code>"heading"</code>, <code>"position"</code>, <code>"all"</code></p>
<p><strong>Actions</strong>: <code>"filter"</code> (remove points), <code>"detect"</code> (mark only), <code>"report"</code> (summary only)</p>
</div>
<div class="section level3">
<h3 id="id_3-optimize-delays">3. Optimize Delays<a class="anchor" aria-label="anchor" href="#id_3-optimize-delays"></a>
</h3>
<p>Optimize GPS-sensor delays using delay adjustment method:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Optimize both flow and moisture delays</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/optimize_delays.html">optimize_delays</a></span><span class="op">(</span><span class="va">data</span>, type <span class="op">=</span> <span class="st">"both"</span><span class="op">)</span></span>
<span><span class="va">data_corrected</span> <span class="op">&lt;-</span> <span class="va">result</span><span class="op">$</span><span class="va">data</span></span>
<span></span>
<span><span class="co"># Optimize flow delay only</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/optimize_delays.html">optimize_delays</a></span><span class="op">(</span><span class="va">data</span>, type <span class="op">=</span> <span class="st">"flow"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get optimal delays without applying corrections</span></span>
<span><span class="va">delays</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/optimize_delays.html">optimize_delays</a></span><span class="op">(</span><span class="va">data</span>, type <span class="op">=</span> <span class="st">"both"</span>, apply_correction <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">delays</span><span class="op">$</span><span class="va">delays</span><span class="op">$</span><span class="va">flow</span><span class="op">)</span>  <span class="co"># Optimal flow delay in seconds</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_4-calculate-thresholds">4. Calculate Thresholds<a class="anchor" aria-label="anchor" href="#id_4-calculate-thresholds"></a>
</h3>
<p>Automatically calculate thresholds for filtering:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Calculate all thresholds</span></span>
<span><span class="va">thresholds</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/calculate_thresholds.html">calculate_thresholds</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Calculate only yield thresholds with custom quantiles</span></span>
<span><span class="va">thresholds</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/calculate_thresholds.html">calculate_thresholds</a></span><span class="op">(</span><span class="va">data</span>, type <span class="op">=</span> <span class="st">"yield"</span>,</span>
<span>                                   yllim <span class="op">=</span> <span class="fl">0.05</span>, yulim <span class="op">=</span> <span class="fl">0.95</span>, yscale <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Access calculated thresholds</span></span>
<span><span class="va">thresholds</span><span class="op">$</span><span class="va">yield</span><span class="op">$</span><span class="va">min_yield</span>  <span class="co"># Minimum yield threshold</span></span>
<span><span class="va">thresholds</span><span class="op">$</span><span class="va">velocity</span><span class="op">$</span><span class="va">max_velocity</span>  <span class="co"># Maximum velocity threshold</span></span></code></pre></div>
<p><strong>Threshold types</strong>: <code>"yield"</code>, <code>"velocity"</code>, <code>"position"</code>, <code>"moisture"</code>, <code>"all"</code></p>
</div>
<div class="section level3">
<h3 id="id_5-convert-coordinates">5. Convert Coordinates<a class="anchor" aria-label="anchor" href="#id_5-convert-coordinates"></a>
</h3>
<p>Convert between coordinate systems:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Convert Lat/Lon to UTM</span></span>
<span><span class="va">data_utm</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/convert_coordinates.html">convert_coordinates</a></span><span class="op">(</span><span class="va">data</span>, from <span class="op">=</span> <span class="st">"latlon"</span>, to <span class="op">=</span> <span class="st">"utm"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Convert UTM to Lat/Lon</span></span>
<span><span class="va">data_latlon</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/convert_coordinates.html">convert_coordinates</a></span><span class="op">(</span><span class="va">data</span>, from <span class="op">=</span> <span class="st">"utm"</span>, to <span class="op">=</span> <span class="st">"latlon"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_6-convert-yield-units">6. Convert Yield Units<a class="anchor" aria-label="anchor" href="#id_6-convert-yield-units"></a>
</h3>
<p>Convert yield between different units:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Convert flow (lbs/s) to yield (kg/ha)</span></span>
<span><span class="va">data_yield</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/convert_yield_units.html">convert_yield_units</a></span><span class="op">(</span><span class="va">data</span>, from <span class="op">=</span> <span class="st">"flow_lbs_s"</span>, to <span class="op">=</span> <span class="st">"kg_ha"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Convert kg/ha to bu/acre for corn</span></span>
<span><span class="va">data_imperial</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/convert_yield_units.html">convert_yield_units</a></span><span class="op">(</span><span class="va">data</span>, from <span class="op">=</span> <span class="st">"kg_ha"</span>, to <span class="op">=</span> <span class="st">"bu_acre"</span>,</span>
<span>                                     crop_type <span class="op">=</span> <span class="st">"maize"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Convert kg/ha to tonnes/ha</span></span>
<span><span class="va">data_tonnes</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/convert_yield_units.html">convert_yield_units</a></span><span class="op">(</span><span class="va">data</span>, from <span class="op">=</span> <span class="st">"kg_ha"</span>, to <span class="op">=</span> <span class="st">"t_ha"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_7-anonymize-data">7. Anonymize Data<a class="anchor" aria-label="anchor" href="#id_7-anonymize-data"></a>
</h3>
<p>Anonymize sensitive information:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Full anonymization (coordinates + attributes)</span></span>
<span><span class="va">data_anon</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/anonymize_data.html">anonymize_data</a></span><span class="op">(</span><span class="va">data</span>, type <span class="op">=</span> <span class="st">"full"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Anonymize only coordinates with rotation method</span></span>
<span><span class="va">data_anon</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/anonymize_data.html">anonymize_data</a></span><span class="op">(</span><span class="va">data</span>, type <span class="op">=</span> <span class="st">"coordinates"</span>, method <span class="op">=</span> <span class="st">"rotation"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Anonymize only sensitive attributes</span></span>
<span><span class="va">data_anon</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/anonymize_data.html">anonymize_data</a></span><span class="op">(</span><span class="va">data</span>, type <span class="op">=</span> <span class="st">"attributes"</span><span class="op">)</span></span></code></pre></div>
<p><strong>Types</strong>: <code>"coordinates"</code>, <code>"attributes"</code>, <code>"full"</code></p>
<p><strong>Methods for coordinates</strong>: <code>"translation"</code>, <code>"rotation"</code>, <code>"noise"</code></p>
</div>
<div class="section level3">
<h3 id="id_8-export-data">8. Export Data<a class="anchor" aria-label="anchor" href="#id_8-export-data"></a>
</h3>
<p>Export data to various formats:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Export to CSV</span></span>
<span><span class="fu"><a href="reference/export_data.html">export_data</a></span><span class="op">(</span><span class="va">data</span>, <span class="st">"output.csv"</span>, format <span class="op">=</span> <span class="st">"csv"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Export to GeoJSON (format auto-detected from extension)</span></span>
<span><span class="fu"><a href="reference/export_data.html">export_data</a></span><span class="op">(</span><span class="va">data</span>, <span class="st">"output.geojson"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Export to Shapefile</span></span>
<span><span class="fu"><a href="reference/export_data.html">export_data</a></span><span class="op">(</span><span class="va">data</span>, <span class="st">"output.shp"</span>, format <span class="op">=</span> <span class="st">"shp"</span>, overwrite <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Export to GeoPackage</span></span>
<span><span class="fu"><a href="reference/export_data.html">export_data</a></span><span class="op">(</span><span class="va">data</span>, <span class="st">"output.gpkg"</span>, format <span class="op">=</span> <span class="st">"gpkg"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Export to raster (GeoTIFF)</span></span>
<span><span class="fu"><a href="reference/export_data.html">export_data</a></span><span class="op">(</span><span class="va">data</span>, <span class="st">"yield_map.tif"</span>, format <span class="op">=</span> <span class="st">"raster"</span>, resolution <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></code></pre></div>
<p><strong>Formats</strong>: <code>"csv"</code>, <code>"geojson"</code>, <code>"shp"</code>, <code>"gpkg"</code>, <code>"raster"</code></p>
</div>
</div>
<div class="section level2">
<h2 id="filtering-pipeline">Filtering Pipeline<a class="anchor" aria-label="anchor" href="#filtering-pipeline"></a>
</h2>
<p>The cleaning process follows this order:</p>
<ol style="list-style-type: decimal">
<li>
<strong>Delay Adjustment (Optional)</strong>: Optimize GPS-sensor delay for flow and moisture</li>
<li>
<strong>Header Status</strong>: Remove points when header is raised</li>
<li>
<strong>GPS Quality</strong>: Filter by GPS status and DOP values</li>
<li>
<strong>Velocity</strong>: Remove stationary and high-speed points</li>
<li>
<strong>Yield Range</strong>: Filter yield values outside acceptable range</li>
<li>
<strong>Moisture Range</strong>: Filter moisture values outside acceptable range</li>
<li>
<strong>Overlap</strong>: Remove points in overlapping swath areas</li>
<li>
<strong>Local Standard Deviation</strong>: Remove statistically abnormal points</li>
</ol>
</div>
<div class="section level2">
<h2 id="raster-export">Raster Export<a class="anchor" aria-label="anchor" href="#raster-export"></a>
</h2>
<p>Generate interpolated raster maps:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Export cleaned data to raster using the new API</span></span>
<span><span class="fu"><a href="reference/export_data.html">export_data</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">data_clean</span>,</span>
<span>  file <span class="op">=</span> <span class="st">"output/yield_map.tif"</span>,</span>
<span>  format <span class="op">=</span> <span class="st">"raster"</span>,</span>
<span>  resolution <span class="op">=</span> <span class="fl">1</span>  <span class="co"># 1 meter resolution</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Or use the legacy functions (still available)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load cleaned data</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html" class="external-link">st_read</a></span><span class="op">(</span><span class="st">"data/cleaned.geojson"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create raster with spline interpolation</span></span>
<span><span class="va">raster</span> <span class="op">&lt;-</span> <span class="fu">export_raster</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">data</span>,</span>
<span>  cell_size <span class="op">=</span> <span class="fl">1</span>,              <span class="co"># 1 meter resolution</span></span>
<span>  column_colonne <span class="op">=</span> <span class="st">"Yield_kg_ha"</span>,</span>
<span>  crs_code <span class="op">=</span> <span class="fl">32618</span>           <span class="co"># UTM Zone 18N</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save as GeoTIFF</span></span>
<span><span class="fu">save_raster</span><span class="op">(</span><span class="va">raster</span>, <span class="st">"output/yield_map.tif"</span><span class="op">)</span></span></code></pre></div>
<p>The raster export uses Thin Plate Spline (TPS) interpolation for smooth, continuous surfaces.</p>
</div>
<div class="section level2">
<h2 id="documentation">Documentation<a class="anchor" aria-label="anchor" href="#documentation"></a>
</h2>
<ul>
<li>
<a href="vignettes/getting-started.html">Getting Started</a> - Introduction and basic usage</li>
<li>
<a href="vignettes/filtering-methods.html">Filtering Methods</a> - Detailed explanation of filters</li>
<li>
<a href="vignettes/shiny-app.html">Shiny Application</a> - Guide to the interactive app</li>
<li>
<a href="reference/index.html">API Reference</a> - Function documentation</li>
</ul>
</div>
<div class="section level2">
<h2 id="contributing">Contributing<a class="anchor" aria-label="anchor" href="#contributing"></a>
</h2>
<p>Contributions are welcome! Please see <a href="CONTRIBUTING.html">CONTRIBUTING.md</a> for guidelines.</p>
<ol style="list-style-type: decimal">
<li>Fork the repository</li>
<li>Create a feature branch (<code>git checkout -b feature/amazing-feature</code>)</li>
<li>Commit your changes (<code>git commit -m 'Add amazing feature'</code>)</li>
<li>Push to the branch (<code>git push origin feature/amazing-feature</code>)</li>
<li>Open a Pull Request</li>
</ol>
</div>
<div class="section level2">
<h2 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h2>
<p>If you use this package in your research, please cite:</p>
<pre><code>Bouffard, C. (2025). yieldcleanr: Tools for cleaning and validating
    agricultural yield data. R package version 0.1.0.</code></pre>
</div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h2>
<p>This project is licensed under the MIT License - see <a href="LICENSE">LICENSE</a> for details.</p>
</div>
<div class="section level2">
<h2 id="acknowledgments">Acknowledgments<a class="anchor" aria-label="anchor" href="#acknowledgments"></a>
</h2>
<ul>
<li>USDA Yield Editor documentation for filtering methodology</li>
<li>The R-spatial community for spatial analysis tools</li>
<li>Contributors and testers</li>
</ul>
</div>
<div class="section level2">
<h2 id="contact">Contact<a class="anchor" aria-label="anchor" href="#contact"></a>
</h2>
<ul>
<li>
<strong>Issues</strong>: <a href="https://github.com/cedricbouffard/yieldcleanr/issues" class="external-link">GitHub Issues</a>
</li>
<li>
<strong>Email</strong>: <a href="mailto:cedric.bouffard@irda.qc.ca" class="email">cedric.bouffard@irda.qc.ca</a>
</li>
</ul>
<hr>
<p><strong>Note</strong>: This package is under active development. Please report any issues or feature requests on GitHub.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/cedricbouffard/yieldcleanr/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/cedricbouffard/yieldcleanr/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing yieldcleanr</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Cedric Bouffard <br><small class="roles"> Author, maintainer </small>   </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Cedric Bouffard.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
