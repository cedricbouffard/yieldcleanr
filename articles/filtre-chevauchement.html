<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Filtre de Chevauchement (Overlap) ‚Ä¢ yieldcleanr</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Filtre de Chevauchement (Overlap)">
<meta name="description" content="Outils pour nettoyer les donn√©es de rendement agricole / Tools for cleaning agricultural yield data">
<style>
.lang-toggle { cursor: pointer; padding: 8px 12px; }
</style>
<script>
document.addEventListener('DOMContentLoaded', function() {
  const langToggle = document.getElementById('lang-toggle');
  if (langToggle) {
    langToggle.addEventListener('click', function(e) {
      e.preventDefault();
      const currentPath = window.location.pathname;
      const isEn = currentPath.includes('/en/') || currentPath.endsWith('_en.html');
      let newPath;
      if (isEn) {
        newPath = currentPath.replace('/en/', '/fr/').replace('_en.html', '_en.html');
      } else {
        newPath = currentPath.replace('/fr/', '/en/').replace('_fr.html', '_en.html');
      }
      if (newPath !== currentPath) {
        window.location.href = newPath;
      }
    });
  }
});
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="default" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">yieldcleanr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">R√©f√©rence</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Nouveaut√©s</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/cedricbouffard/yieldcleanr">GitHub</a></li>
<li class="nav-item"><a class="nav-link lang-toggle" id="lang-toggle" href="../#">FR | EN</a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Filtre de Chevauchement (Overlap)</h1>
            <h3 data-toc-skip class="subtitle">D√©tection et √©limination
des zones de recouvrement</h3>
            
      
      <small class="dont-index">Source: <a href="https://github.com/cedricbouffard/yieldcleanr/blob/main/vignettes/filtre-chevauchement.Rmd" class="external-link"><code>vignettes/filtre-chevauchement.Rmd</code></a></small>
      <div class="d-none name"><code>filtre-chevauchement.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Le filtre de chevauchement d√©tecte et √©limine les points situ√©s dans
des zones o√π plusieurs passages de la moissonneuse se superposent. Ces
chevauchements cr√©ent un <strong>sur-√©chantillonnage</strong> qui fausse
les statistiques de rendement.</p>
</div>
<div class="section level2">
<h2 id="probl√©matique">Probl√©matique<a class="anchor" aria-label="anchor" href="#probl%C3%A9matique"></a>
</h2>
<div class="section level3">
<h3 id="pourquoi-les-chevauchements-posent-probl√®me">Pourquoi les chevauchements posent probl√®me<a class="anchor" aria-label="anchor" href="#pourquoi-les-chevauchements-posent-probl%C3%A8me"></a>
</h3>
<ol style="list-style-type: decimal">
<li>
<strong>Sur-√©chantillonnage</strong> : Une zone de 10m¬≤ peut √™tre
r√©colt√©e 2-3 fois</li>
<li>
<strong>Biais de rendement</strong> : Les zones de chevauchement ont
plus de poids statistique</li>
<li>
<strong>Art√©facts visuels</strong> : Bandes de rendement
artificiellement √©lev√©es</li>
<li>
<strong>Doublons</strong> : M√™me grain mesur√© plusieurs fois</li>
</ol>
</div>
<div class="section level3">
<h3 id="sources-de-chevauchement">Sources de chevauchement<a class="anchor" aria-label="anchor" href="#sources-de-chevauchement"></a>
</h3>
<ul>
<li>
<strong>Man≈ìuvres de demi-tour</strong> : Recouvrement aux
extr√©mit√©s des rangs</li>
<li>
<strong>Correction de trajectoire</strong> : Chevauchement lors des
ajustements</li>
<li>
<strong>Zones de difficult√©</strong> : Passages multiples dans les
zones humides</li>
<li>
<strong>Erreurs de guidage</strong> : D√©rives GPS cr√©ant des doubles
passages</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="principes-math√©matiques">Principes math√©matiques<a class="anchor" aria-label="anchor" href="#principes-math%C3%A9matiques"></a>
</h2>
<div class="section level3">
<h3 id="rasterisation-spatiale">1. Rasterisation spatiale<a class="anchor" aria-label="anchor" href="#rasterisation-spatiale"></a>
</h3>
<p>L‚Äôespace est discr√©tis√© en une grille r√©guli√®re de cellules carr√©es
:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>C</mi><mrow><mi>i</mi><mo>,</mo><mi>j</mi></mrow></msub><mo>=</mo><mo stretchy="false" form="prefix">{</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>:</mo><msub><mi>x</mi><mrow><mi>m</mi><mi>i</mi><mi>n</mi></mrow></msub><mo>+</mo><mi>i</mi><mo>‚ãÖ</mo><mi>c</mi><mi>s</mi><mo>‚â§</mo><mi>x</mi><mo>&lt;</mo><msub><mi>x</mi><mrow><mi>m</mi><mi>i</mi><mi>n</mi></mrow></msub><mo>+</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>‚ãÖ</mo><mi>c</mi><mi>s</mi><mo>,</mo></mrow><annotation encoding="application/x-tex">C_{i,j} = \{(x, y) : x_{min} + i \cdot cs \leq x &lt; x_{min} + (i+1) \cdot cs,</annotation></semantics></math><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mrow><mi>m</mi><mi>i</mi><mi>n</mi></mrow></msub><mo>+</mo><mi>j</mi><mo>‚ãÖ</mo><mi>c</mi><mi>s</mi><mo>‚â§</mo><mi>y</mi><mo>&lt;</mo><msub><mi>y</mi><mrow><mi>m</mi><mi>i</mi><mi>n</mi></mrow></msub><mo>+</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>j</mi><mo>+</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow><mo>‚ãÖ</mo><mi>c</mi><mi>s</mi><mo stretchy="false" form="postfix">}</mo></mrow><annotation encoding="application/x-tex">y_{min} + j \cdot cs \leq y &lt; y_{min} + (j+1) \cdot cs\}</annotation></semantics></math></p>
<p>O√π : -
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>C</mi><mrow><mi>i</mi><mo>,</mo><mi>j</mi></mrow></msub><annotation encoding="application/x-tex">C_{i,j}</annotation></semantics></math>
= cellule
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="true" form="prefix">(</mo><mi>i</mi><mo>,</mo><mi>j</mi><mo stretchy="true" form="postfix">)</mo></mrow><annotation encoding="application/x-tex">(i, j)</annotation></semantics></math>
-
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">cs</annotation></semantics></math>
= taille de cellule (cell size) -
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mrow><mi>m</mi><mi>i</mi><mi>n</mi></mrow></msub><mo>,</mo><msub><mi>y</mi><mrow><mi>m</mi><mi>i</mi><mi>n</mi></mrow></msub></mrow><annotation encoding="application/x-tex">x_{min}, y_{min}</annotation></semantics></math>
= coordonn√©es minimales du champ</p>
</div>
<div class="section level3">
<h3 id="comptage-des-passages">2. Comptage des passages<a class="anchor" aria-label="anchor" href="#comptage-des-passages"></a>
</h3>
<p>Pour chaque cellule
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>C</mi><mrow><mi>i</mi><mo>,</mo><mi>j</mi></mrow></msub><annotation encoding="application/x-tex">C_{i,j}</annotation></semantics></math>,
on compte le nombre de points qui tombent dans cette cellule, regroup√©s
par passage (Pass) :</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>N</mi><mrow><mi>i</mi><mo>,</mo><mi>j</mi></mrow></msub><mo>=</mo><mrow><mo stretchy="true" form="prefix">|</mo><mo stretchy="false" form="prefix">{</mo><msub><mi>p</mi><mi>k</mi></msub><mo>:</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>x</mi><mi>k</mi></msub><mo>,</mo><msub><mi>y</mi><mi>k</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow><mo>‚àà</mo><msub><mi>C</mi><mrow><mi>i</mi><mo>,</mo><mi>j</mi></mrow></msub><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">|</mo></mrow></mrow><annotation encoding="application/x-tex">N_{i,j} = |\{p_k : (x_k, y_k) \in C_{i,j}\}|</annotation></semantics></math></p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>N</mi><mrow><mi>i</mi><mo>,</mo><mi>j</mi></mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>p</mi><mi>a</mi><mi>s</mi><mi>s</mi><mo stretchy="true" form="postfix">)</mo></mrow></msubsup><mo>=</mo><mrow><mo stretchy="true" form="prefix">|</mo><mo stretchy="false" form="prefix">{</mo><msub><mi>p</mi><mi>k</mi></msub><mo>:</mo><mrow><mo stretchy="true" form="prefix">(</mo><msub><mi>x</mi><mi>k</mi></msub><mo>,</mo><msub><mi>y</mi><mi>k</mi></msub><mo stretchy="true" form="postfix">)</mo></mrow><mo>‚àà</mo><msub><mi>C</mi><mrow><mi>i</mi><mo>,</mo><mi>j</mi></mrow></msub><mo>‚àß</mo><mi>p</mi><mi>a</mi><mi>s</mi><msub><mi>s</mi><mi>k</mi></msub><mo>=</mo><mi>p</mi><mi>a</mi><mi>s</mi><mi>s</mi><mo stretchy="false" form="postfix">}</mo><mo stretchy="true" form="postfix">|</mo></mrow></mrow><annotation encoding="application/x-tex">N_{i,j}^{(pass)} = |\{p_k : (x_k, y_k) \in C_{i,j} \wedge pass_k = pass\}|</annotation></semantics></math></p>
</div>
<div class="section level3">
<h3 id="ratio-de-chevauchement">3. Ratio de chevauchement<a class="anchor" aria-label="anchor" href="#ratio-de-chevauchement"></a>
</h3>
<p>Le ratio de chevauchement mesure la densit√© relative d‚Äôune cellule
par rapport √† la moyenne :</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mrow><mi>i</mi><mo>,</mo><mi>j</mi></mrow></msub><mo>=</mo><mfrac><msub><mi>N</mi><mrow><mi>i</mi><mo>,</mo><mi>j</mi></mrow></msub><mover><mi>N</mi><mo accent="true">‚Äæ</mo></mover></mfrac></mrow><annotation encoding="application/x-tex">R_{i,j} = \frac{N_{i,j}}{\bar{N}}</annotation></semantics></math></p>
<p>O√π
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mover><mi>N</mi><mo accent="true">‚Äæ</mo></mover><annotation encoding="application/x-tex">\bar{N}</annotation></semantics></math>
est le nombre moyen de points par cellule.</p>
<p>Une variante pond√©r√©e par passage :</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>R</mi><mrow><mi>i</mi><mo>,</mo><mi>j</mi></mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>w</mi><mi>e</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mi>e</mi><mi>d</mi><mo stretchy="true" form="postfix">)</mo></mrow></msubsup><mo>=</mo><mfrac><mrow><munder><mo>‚àë</mo><mrow><mi>p</mi><mi>a</mi><mi>s</mi><mi>s</mi></mrow></munder><mn>ùüô</mn><mrow><mo stretchy="true" form="prefix">(</mo><msubsup><mi>N</mi><mrow><mi>i</mi><mo>,</mo><mi>j</mi></mrow><mrow><mo stretchy="true" form="prefix">(</mo><mi>p</mi><mi>a</mi><mi>s</mi><mi>s</mi><mo stretchy="true" form="postfix">)</mo></mrow></msubsup><mo>&gt;</mo><mn>0</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><msub><mi>N</mi><mrow><mi>p</mi><mi>a</mi><mi>s</mi><mi>s</mi><mi>a</mi><mi>g</mi><mi>e</mi><mi>s</mi><mi>_</mi><mi>t</mi><mi>o</mi><mi>t</mi><mi>a</mi><mi>l</mi></mrow></msub></mfrac></mrow><annotation encoding="application/x-tex">R_{i,j}^{(weighted)} = \frac{\sum_{pass} \mathbb{1}(N_{i,j}^{(pass)} &gt; 0)}{N_{passages\_total}}</annotation></semantics></math></p>
</div>
<div class="section level3">
<h3 id="seuil-d√©limination">4. Seuil d‚Äô√©limination<a class="anchor" aria-label="anchor" href="#seuil-d%C3%A9limination"></a>
</h3>
<p>Une cellule est marqu√©e comme ‚Äúoverlap‚Äù si :</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>R</mi><mrow><mi>i</mi><mo>,</mo><mi>j</mi></mrow></msub><mo>&gt;</mo><msub><mi>R</mi><mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub></mrow><annotation encoding="application/x-tex">R_{i,j} &gt; R_{max}</annotation></semantics></math></p>
<p>O√π
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>R</mi><mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub><annotation encoding="application/x-tex">R_{max}</annotation></semantics></math>
est le seuil de chevauchement (d√©faut: 0.5).</p>
<p>Les points dans les cellules ‚Äúoverlap‚Äù sont √©limin√©s selon une
strat√©gie de s√©lection : - Garder uniquement le premier passage - Garder
le passage avec le meilleur rendement - Garder al√©atoirement un seul
point</p>
</div>
</div>
<div class="section level2">
<h2 id="impl√©mentation">Impl√©mentation<a class="anchor" aria-label="anchor" href="#impl%C3%A9mentation"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/cedricbouffard/yieldcleanr" class="external-link">yieldcleanr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Charger les donn√©es</span></span>
<span><span class="va">file_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"sample1.txt"</span>, package <span class="op">=</span> <span class="st">"yieldcleanr"</span><span class="op">)</span></span>
<span><span class="va">data_raw</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_yield_data.html">read_yield_data</a></span><span class="op">(</span><span class="va">file_path</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Pr√©paration</span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/latlon_to_utm.html">latlon_to_utm</a></span><span class="op">(</span><span class="va">data_raw</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/convert_flow_to_yield.html">convert_flow_to_yield</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/filter_data.html">filter_data</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"velocity"</span>, min_velocity <span class="op">=</span> <span class="fl">0.5</span>, max_velocity <span class="op">=</span> <span class="fl">10</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/filter_data.html">filter_data</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"moisture"</span>, n_std <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"=== Filtre de chevauchement ===\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; === Filtre de chevauchement ===</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Points avant filtrage:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Points avant filtrage: 21578</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Nombre de passages uniques:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">Pass</span><span class="op">)</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Nombre de passages uniques: 65</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="cr√©ation-de-la-grille">Cr√©ation de la grille<a class="anchor" aria-label="anchor" href="#cr%C3%A9ation-de-la-grille"></a>
</h2>
<div class="section level3">
<h3 id="param√®tres-de-discr√©tisation">Param√®tres de discr√©tisation<a class="anchor" aria-label="anchor" href="#param%C3%A8tres-de-discr%C3%A9tisation"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Param√®tres de la grille</span></span>
<span><span class="va">cell_size</span> <span class="op">&lt;-</span> <span class="fl">0.3</span>  <span class="co"># 30 cm</span></span>
<span><span class="va">overlap_threshold</span> <span class="op">&lt;-</span> <span class="fl">0.5</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"\n=== Param√®tres de la grille ===\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; === Param√®tres de la grille ===</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Taille des cellules:"</span>, <span class="va">cell_size</span>, <span class="st">"m\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Taille des cellules: 0.3 m</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Seuil de chevauchement:"</span>, <span class="va">overlap_threshold</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Seuil de chevauchement: 0.5</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Surface par cellule:"</span>, <span class="va">cell_size</span><span class="op">^</span><span class="fl">2</span>, <span class="st">"m¬≤\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Surface par cellule: 0.09 m¬≤</span></span>
<span></span>
<span><span class="co"># Calculer les dimensions de la grille</span></span>
<span><span class="va">x_range</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">X</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">y_range</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">Y</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">nx</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">ceiling</a></span><span class="op">(</span><span class="op">(</span><span class="va">x_range</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">-</span> <span class="va">x_range</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span> <span class="op">/</span> <span class="va">cell_size</span><span class="op">)</span></span>
<span><span class="va">ny</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">ceiling</a></span><span class="op">(</span><span class="op">(</span><span class="va">y_range</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">-</span> <span class="va">y_range</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span> <span class="op">/</span> <span class="va">cell_size</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"\nDimensions de la grille:"</span>, <span class="va">nx</span>, <span class="st">"x"</span>, <span class="va">ny</span>, <span class="st">"="</span>, <span class="va">nx</span> <span class="op">*</span> <span class="va">ny</span>, <span class="st">"cellules\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Dimensions de la grille: 2669 x 1753 = 4678757 cellules</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="visualisation-de-la-grille">Visualisation de la grille<a class="anchor" aria-label="anchor" href="#visualisation-de-la-grille"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Cr√©er une visualisation simplifi√©e de la grille</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">42</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># √âchantillon de points pour visualisation</span></span>
<span><span class="va">sample_data</span> <span class="op">&lt;-</span> <span class="va">data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/sample_n.html" class="external-link">sample_n</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="fl">1000</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Cr√©er la grille pour visualisation</span></span>
<span><span class="va">x_seq</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="va">x_range</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="va">x_range</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>, by <span class="op">=</span> <span class="va">cell_size</span><span class="op">)</span></span>
<span><span class="va">y_seq</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="va">y_range</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="va">y_range</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>, by <span class="op">=</span> <span class="va">cell_size</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Graphique</span></span>
<span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">sample_data</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">X</span>, y <span class="op">=</span> <span class="va">Y</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">Pass</span><span class="op">)</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">1</span>, alpha <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_hline</a></span><span class="op">(</span>yintercept <span class="op">=</span> <span class="va">y_seq</span>, color <span class="op">=</span> <span class="st">"gray80"</span>, alpha <span class="op">=</span> <span class="fl">0.3</span>, size <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="va">x_seq</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">x_seq</span><span class="op">)</span>, by <span class="op">=</span> <span class="fl">10</span><span class="op">)</span><span class="op">]</span>, </span>
<span>             color <span class="op">=</span> <span class="st">"gray80"</span>, alpha <span class="op">=</span> <span class="fl">0.3</span>, size <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html" class="external-link">coord_equal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Points de rendement superpos√©s √† la grille spatiale"</span>,</span>
<span>       subtitle <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Cellules de"</span>, <span class="va">cell_size</span>, <span class="st">"m - Passages color√©s diff√©remment"</span><span class="op">)</span>,</span>
<span>       x <span class="op">=</span> <span class="st">"X (m)"</span>, y <span class="op">=</span> <span class="st">"Y (m)"</span>, color <span class="op">=</span> <span class="st">"Passage"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"bottom"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p1</span></span></code></pre></div>
<p><img src="filtre-chevauchement_files/figure-html/grid-viz-1.png" class="r-plt" alt="" width="1152"></p>
</div>
</div>
<div class="section level2">
<h2 id="application-du-filtre">Application du filtre<a class="anchor" aria-label="anchor" href="#application-du-filtre"></a>
</h2>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"\n=== Application du filtre de chevauchement ===\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; === Application du filtre de chevauchement ===</span></span>
<span></span>
<span><span class="co"># Appliquer le filtre</span></span>
<span><span class="va">data_filtered</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/detect_anomalies.html">detect_anomalies</a></span><span class="op">(</span><span class="va">data</span>, </span>
<span>                                  type <span class="op">=</span> <span class="st">"overlap"</span>,</span>
<span>                                  cellsize <span class="op">=</span> <span class="va">cell_size</span>,</span>
<span>                                  overlap_threshold <span class="op">=</span> <span class="va">overlap_threshold</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Points apr√®s filtrage:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">data_filtered</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Points apr√®s filtrage: 21578</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Points retir√©s:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">data_filtered</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Points retir√©s: 0</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Taux de r√©tention:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">data_filtered</span><span class="op">)</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span>, <span class="fl">1</span><span class="op">)</span>, <span class="st">"%\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Taux de r√©tention: 100 %</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="analyse-des-zones-de-chevauchement">Analyse des zones de chevauchement<a class="anchor" aria-label="anchor" href="#analyse-des-zones-de-chevauchement"></a>
</h2>
<div class="section level3">
<h3 id="identification-des-zones-probl√©matiques">Identification des zones probl√©matiques<a class="anchor" aria-label="anchor" href="#identification-des-zones-probl%C3%A9matiques"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Identifier les points √©limin√©s</span></span>
<span><span class="va">removed</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter-joins.html" class="external-link">anti_join</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">data_filtered</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"X"</span>, <span class="st">"Y"</span>, <span class="st">"GPS_Time"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"\n=== Analyse des zones de chevauchement ===\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; === Analyse des zones de chevauchement ===</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Points en zone de chevauchement:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">removed</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Points en zone de chevauchement: 0</span></span>
<span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">removed</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># Distribution par passage</span></span>
<span>  <span class="va">removed_by_pass</span> <span class="op">&lt;-</span> <span class="va">removed</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">Pass</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"\nDistribution par passage (top 5):\n"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">removed_by_pass</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># Visualisation</span></span>
<span>  <span class="va">sf_removed</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span><span class="va">removed</span>, coords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Longitude"</span>, <span class="st">"Latitude"</span><span class="op">)</span>, crs <span class="op">=</span> <span class="fl">4326</span><span class="op">)</span></span>
<span>  <span class="va">sf_all</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span><span class="va">data</span>, coords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Longitude"</span>, <span class="st">"Latitude"</span><span class="op">)</span>, crs <span class="op">=</span> <span class="fl">4326</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">sf_all</span><span class="op">[</span><span class="st">"Yield_kg_ha"</span><span class="op">]</span>, main <span class="op">=</span> <span class="st">"Tous les points"</span>, </span>
<span>       pch <span class="op">=</span> <span class="fl">19</span>, cex <span class="op">=</span> <span class="fl">0.3</span>, breaks <span class="op">=</span> <span class="st">"jenks"</span>, key.pos <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">sf_removed</span><span class="op">[</span><span class="st">"Yield_kg_ha"</span><span class="op">]</span>, main <span class="op">=</span> <span class="st">"Points en chevauchement"</span>, </span>
<span>       pch <span class="op">=</span> <span class="fl">19</span>, cex <span class="op">=</span> <span class="fl">0.5</span>, breaks <span class="op">=</span> <span class="st">"jenks"</span>, key.pos <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="exemple-illustratif">Exemple illustratif<a class="anchor" aria-label="anchor" href="#exemple-illustratif"></a>
</h2>
<div class="section level3">
<h3 id="simulation-de-chevauchement">Simulation de chevauchement<a class="anchor" aria-label="anchor" href="#simulation-de-chevauchement"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Cr√©er une simulation de passages avec chevauchement</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">42</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Passage 1 : ligne droite</span></span>
<span><span class="va">pass1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span>, by <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>  y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">101</span><span class="op">)</span>,</span>
<span>  pass <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  yield <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">101</span>, mean <span class="op">=</span> <span class="fl">5000</span>, sd <span class="op">=</span> <span class="fl">200</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Passage 2 : ligne droite parall√®le</span></span>
<span><span class="va">pass2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span>, by <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>  y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">101</span><span class="op">)</span>,</span>
<span>  pass <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  yield <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">101</span>, mean <span class="op">=</span> <span class="fl">5200</span>, sd <span class="op">=</span> <span class="fl">200</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Passage 3 : avec chevauchement sur la fin</span></span>
<span><span class="va">pass3_x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">80</span>, by <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">80</span>, <span class="fl">100</span>, by <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span>  <span class="co"># Densit√© doubl√©e √† la fin</span></span>
<span><span class="va">pass3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  x <span class="op">=</span> <span class="va">pass3_x</span>,</span>
<span>  y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">30</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">pass3_x</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  pass <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  yield <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">pass3_x</span><span class="op">)</span>, mean <span class="op">=</span> <span class="fl">4800</span>, sd <span class="op">=</span> <span class="fl">200</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Combiner</span></span>
<span><span class="va">all_passes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="va">pass1</span>, <span class="va">pass2</span>, <span class="va">pass3</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Visualisation des passages</span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">all_passes</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, y <span class="op">=</span> <span class="va">y</span>, color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">pass</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">2</span>, alpha <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_hline</a></span><span class="op">(</span>yintercept <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>, <span class="fl">30</span><span class="op">)</span>, linetype <span class="op">=</span> <span class="st">"dashed"</span>, alpha <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html" class="external-link">annotate</a></span><span class="op">(</span><span class="st">"rect"</span>, xmin <span class="op">=</span> <span class="fl">80</span>, xmax <span class="op">=</span> <span class="fl">100</span>, ymin <span class="op">=</span> <span class="fl">28</span>, ymax <span class="op">=</span> <span class="fl">32</span>,</span>
<span>           alpha <span class="op">=</span> <span class="fl">0.2</span>, fill <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html" class="external-link">annotate</a></span><span class="op">(</span><span class="st">"text"</span>, x <span class="op">=</span> <span class="fl">90</span>, y <span class="op">=</span> <span class="fl">35</span>, label <span class="op">=</span> <span class="st">"Zone de\nchevauchement"</span>, </span>
<span>           color <span class="op">=</span> <span class="st">"red"</span>, size <span class="op">=</span> <span class="fl">4</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Simulation de passages avec zone de chevauchement"</span>,</span>
<span>       subtitle <span class="op">=</span> <span class="st">"Passage 3 a une densit√© doubl√©e entre x=80 et x=100"</span>,</span>
<span>       x <span class="op">=</span> <span class="st">"X (m)"</span>, y <span class="op">=</span> <span class="st">"Y (m)"</span>, color <span class="op">=</span> <span class="st">"Passage"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_fixed.html" class="external-link">coord_equal</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p2</span></span></code></pre></div>
<p><img src="filtre-chevauchement_files/figure-html/overlap-simulation-1.png" class="r-plt" alt="" width="1344"></p>
</div>
<div class="section level3">
<h3 id="calcul-du-ratio-de-chevauchement">Calcul du ratio de chevauchement<a class="anchor" aria-label="anchor" href="#calcul-du-ratio-de-chevauchement"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Discr√©tiser en cellules de 5m</span></span>
<span><span class="va">cell_sim</span> <span class="op">&lt;-</span> <span class="fl">5</span></span>
<span></span>
<span><span class="va">all_passes</span><span class="op">$</span><span class="va">cell_x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">floor</a></span><span class="op">(</span><span class="va">all_passes</span><span class="op">$</span><span class="va">x</span> <span class="op">/</span> <span class="va">cell_sim</span><span class="op">)</span></span>
<span><span class="va">all_passes</span><span class="op">$</span><span class="va">cell_y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">floor</a></span><span class="op">(</span><span class="va">all_passes</span><span class="op">$</span><span class="va">y</span> <span class="op">/</span> <span class="va">cell_sim</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compter les points par cellule</span></span>
<span><span class="va">cell_counts</span> <span class="op">&lt;-</span> <span class="va">all_passes</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">cell_x</span>, <span class="va">cell_y</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span></span>
<span>    n_points <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    n_passes <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/n_distinct.html" class="external-link">n_distinct</a></span><span class="op">(</span><span class="va">pass</span><span class="op">)</span>,</span>
<span>    .groups <span class="op">=</span> <span class="st">'drop'</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"\n=== Comptage par cellule (simulation) ===\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; === Comptage par cellule (simulation) ===</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Cellules occup√©es:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">cell_counts</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Cellules occup√©es: 63</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Moyenne de points par cellule:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">cell_counts</span><span class="op">$</span><span class="va">n_points</span><span class="op">)</span>, <span class="fl">1</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Moyenne de points par cellule: 5.1</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Max points dans une cellule:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">cell_counts</span><span class="op">$</span><span class="va">n_points</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Max points dans une cellule: 11</span></span>
<span></span>
<span><span class="co"># Identifier les cellules en chevauchement</span></span>
<span><span class="va">mean_points</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">cell_counts</span><span class="op">$</span><span class="va">n_points</span><span class="op">)</span></span>
<span><span class="va">cell_counts</span><span class="op">$</span><span class="va">ratio</span> <span class="op">&lt;-</span> <span class="va">cell_counts</span><span class="op">$</span><span class="va">n_points</span> <span class="op">/</span> <span class="va">mean_points</span></span>
<span><span class="va">cell_counts</span><span class="op">$</span><span class="va">is_overlap</span> <span class="op">&lt;-</span> <span class="va">cell_counts</span><span class="op">$</span><span class="va">ratio</span> <span class="op">&gt;</span> <span class="fl">1.5</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"\nCellules en chevauchement (ratio &gt; 1.5):"</span>, </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">cell_counts</span><span class="op">$</span><span class="va">is_overlap</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Cellules en chevauchement (ratio &gt; 1.5): 4</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">cell_counts</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">is_overlap</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 4 √ó 6</span></span></span>
<span><span class="co">#&gt;   cell_x cell_y n_points n_passes ratio is_overlap</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>     16      6       11        1  2.14 TRUE      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>     17      6       10        1  1.94 TRUE      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>     18      6       10        1  1.94 TRUE      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>     19      6       10        1  1.94 TRUE</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="param√®tres-recommand√©s">Param√®tres recommand√©s<a class="anchor" aria-label="anchor" href="#param%C3%A8tres-recommand%C3%A9s"></a>
</h2>
<div class="section level3">
<h3 id="choix-de-la-taille-de-cellule">Choix de la taille de cellule<a class="anchor" aria-label="anchor" href="#choix-de-la-taille-de-cellule"></a>
</h3>
<table class="table">
<colgroup>
<col width="33%">
<col width="23%">
<col width="17%">
<col width="25%">
</colgroup>
<thead><tr class="header">
<th>Taille de cellule</th>
<th>Application</th>
<th>Avantage</th>
<th>Inconv√©nient</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>0.1 m (10 cm)</strong></td>
<td>Tr√®s pr√©cis</td>
<td>D√©tecte les micro-chevauchements</td>
<td>Tr√®s sensible au bruit</td>
</tr>
<tr class="even">
<td><strong>0.3 m (30 cm)</strong></td>
<td>Standard USDA</td>
<td>Bon compromis pr√©cision/robustesse</td>
<td>Peut manquer les chevauchements l√©gers</td>
</tr>
<tr class="odd">
<td><strong>0.5 m (50 cm)</strong></td>
<td>Donn√©es bruit√©es</td>
<td>Moins sensible au bruit GPS</td>
<td>Moins pr√©cis</td>
</tr>
<tr class="even">
<td><strong>1.0 m (1 m)</strong></td>
<td>Champs tr√®s larges</td>
<td>Robustesse maximale</td>
<td>D√©tecte uniquement les gros chevauchements</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="choix-du-seuil">Choix du seuil<a class="anchor" aria-label="anchor" href="#choix-du-seuil"></a>
</h3>
<table class="table">
<thead><tr class="header">
<th>Seuil</th>
<th>Interpr√©tation</th>
<th>Utilisation</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>0.3</strong></td>
<td>Conservateur</td>
<td>Champs avec peu de chevauchement</td>
</tr>
<tr class="even">
<td><strong>0.5</strong></td>
<td>Standard</td>
<td>Usage g√©n√©ral recommand√©</td>
</tr>
<tr class="odd">
<td><strong>0.7</strong></td>
<td>Tol√©rant</td>
<td>Champs avec beaucoup de man≈ìuvres</td>
</tr>
<tr class="even">
<td><strong>1.0</strong></td>
<td>Tr√®s tol√©rant</td>
<td>Uniquement pour les gros chevauchements</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="param√®tres-de-la-fonction">Param√®tres de la fonction<a class="anchor" aria-label="anchor" href="#param%C3%A8tres-de-la-fonction"></a>
</h3>
<table class="table">
<caption>Param√®tres du filtre de chevauchement</caption>
<colgroup>
<col width="26%">
<col width="59%">
<col width="14%">
</colgroup>
<thead><tr class="header">
<th align="left">Param√®tre</th>
<th align="left">Description</th>
<th align="left">D√©faut</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">type</td>
<td align="left">Type de d√©tection (‚Äòoverlap‚Äô)</td>
<td align="left">‚Äòoverlap‚Äô</td>
</tr>
<tr class="even">
<td align="left">cellsize</td>
<td align="left">Taille des cellules (m)</td>
<td align="left">0.3</td>
</tr>
<tr class="odd">
<td align="left">overlap_threshold</td>
<td align="left">Seuil de ratio pour √©limination</td>
<td align="left">0.5</td>
</tr>
<tr class="even">
<td align="left">max_pass</td>
<td align="left">Nombre max de passages avant √©limination</td>
<td align="left">50</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="impact-sur-les-statistiques">Impact sur les statistiques<a class="anchor" aria-label="anchor" href="#impact-sur-les-statistiques"></a>
</h2>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"\n=== Impact sur les statistiques ===\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; === Impact sur les statistiques ===</span></span>
<span></span>
<span><span class="co"># Avant filtrage</span></span>
<span><span class="va">stats_before</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  metric <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Nombre de points"</span>, <span class="st">"Rendement moyen"</span>, <span class="st">"√âcart-type"</span>, <span class="st">"CV (%)"</span><span class="op">)</span>,</span>
<span>  value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">Yield_kg_ha</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">Yield_kg_ha</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">Yield_kg_ha</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">Yield_kg_ha</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Apr√®s filtrage</span></span>
<span><span class="va">stats_after</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  metric <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Nombre de points"</span>, <span class="st">"Rendement moyen"</span>, <span class="st">"√âcart-type"</span>, <span class="st">"CV (%)"</span><span class="op">)</span>,</span>
<span>  value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">data_filtered</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">data_filtered</span><span class="op">$</span><span class="va">Yield_kg_ha</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">data_filtered</span><span class="op">$</span><span class="va">Yield_kg_ha</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">data_filtered</span><span class="op">$</span><span class="va">Yield_kg_ha</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">data_filtered</span><span class="op">$</span><span class="va">Yield_kg_ha</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">comparison</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  M√©trique <span class="op">=</span> <span class="va">stats_before</span><span class="op">$</span><span class="va">metric</span>,</span>
<span>  Avant <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">stats_before</span><span class="op">$</span><span class="va">value</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  Apr√®s <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">stats_after</span><span class="op">$</span><span class="va">value</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  Variation <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="op">(</span><span class="va">stats_after</span><span class="op">$</span><span class="va">value</span> <span class="op">-</span> <span class="va">stats_before</span><span class="op">$</span><span class="va">value</span><span class="op">)</span> <span class="op">/</span> <span class="va">stats_before</span><span class="op">$</span><span class="va">value</span> <span class="op">*</span> <span class="fl">100</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">comparison</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt;          M√©trique   Avant   Apr√®s Variation</span></span>
<span><span class="co">#&gt;  Nombre de points 21578.0 21578.0         0</span></span>
<span><span class="co">#&gt;   Rendement moyen  3516.2  3516.2         0</span></span>
<span><span class="co">#&gt;        √âcart-type   811.4   811.4         0</span></span>
<span><span class="co">#&gt;            CV (%)    23.1    23.1         0</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>Le filtre de chevauchement est important pour : 1. <strong>√âliminer
le sur-√©chantillonnage</strong> dans les zones de man≈ìuvre 2.
<strong>Standardiser la densit√©</strong> de points sur tout le champ 3.
<strong>√âviter les biais</strong> dans les statistiques de rendement 4.
<strong>Am√©liorer la qualit√© visuelle</strong> des cartes</p>
<p><strong>Points cl√©s :</strong> - La rasterisation discr√©tise l‚Äôespace
en cellules r√©guli√®res - Le ratio de chevauchement compare la densit√©
locale √† la moyenne - Une taille de cellule de 0.3m est recommand√©e par
l‚ÄôUSDA - Le seuil de 0.5 √©limine les zones avec 50% plus de points que
la moyenne</p>
<p><strong>Recommandation</strong> : Utiliser une taille de cellule
adapt√©e √† la r√©solution des donn√©es. Pour des donn√©es avec un point tous
les 0.5-1m, une cellule de 0.3m est appropri√©e. Pour des donn√©es plus
denses, r√©duire la taille de cellule.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Cedric Bouffard.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
